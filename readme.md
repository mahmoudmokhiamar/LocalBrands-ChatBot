# local brands chatbot
## Scraper Module Overview

### Core Files

- **get_sitemap.py**  
  Discovers all product and collection URLs by parsing the sitemap (parallel processing).

- **scraper.py**  
  Coordinates the scraping workflow by processing URLs and scraping product pages.

- **product_parser.py**  
  Extracts product details, with support for JSON-LD and HTML fallbacks.

- **utils.py**  
  Handles HTTP requests with retries, delays, and other helper functions.

- **config.py**  
  Contains central configuration (URLs, headers, settings).

### Data Files

- **Input**: `products.txt`  
  - Generated by the sitemap parser (`get_sitemap.py`), contains a list of URLs to scrape.

- **Output**: `data/products_full.json`  
  - Stores the structured product data after scraping.

### Key Features

- **Respectful Crawling**  
  Incorporates delays between requests to avoid overloading the server.

- **Material Detection**  
  Extracts material information (e.g., cotton percentages) from product descriptions.

- **Fallback Selectors**  
  Multiple HTML selectors ensure robustness in case of page structure variations.

- **Organized Output**  
  Outputs data in a well-structured format, ensuring easy consumption for analysis or storage.

### Example Product Output

```json
{
  "title": "Low Waist Jeans",
  "description": "Confidently cool, effortlessly comfortable...",
  "price": null,
  "image": null,
  "url": "https://gonative.eg/products/low-waist-jeans",
  "brand": "Frenchee",
  "sku": null,
  "materials": []
}